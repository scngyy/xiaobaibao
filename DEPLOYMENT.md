# 🚀 Windows 10 本地部署指南
本指南将帮助你在Windows 10电脑上运行项目并允许外部设备访问。

## 📋 前置条件

- Windows 10 操作系统
- Node.js (建议版本 18+)
- 管理员权限（用于防火墙设置）
- 局域网连接

## 🔧 安装步骤

### 1. 安装 Node.js

如果还没有安装Node.js：

1. 访问 [Node.js官网](https://nodejs.org/)
2. 下载并安装 LTS 版本
3. 验证安装：
   ```cmd
   node --version
   npm --version
   ```

### 2. 安装项目依赖

在项目目录中打开命令提示符：

```cmd
# 进入项目目录
cd c:\Users\19154\Desktop\zip

# 安装依赖
npm install
```

## 🌐 启动项目（允许外部访问）

### 方法一：开发模式（推荐用于测试）

```cmd
npm run dev
```

### 方法二：生产模式构建

```cmd
# 构建项目
npm run build

# 启动预览服务器
npm run preview
```

## 📡 获取本地IP地址

### 查看你的局域网IP：

```cmd
ipconfig
```

找到你的IP地址，通常类似：
- 以太网适配器: `192.168.x.x`
- 无线局域网适配器: `192.168.x.x`

## 🔗 访问地址

启动项目后，你可以通过以下地址访问：

- **本地访问**: `http://localhost:3000`
- **局域网访问**: `http://你的IP地址:3000`
- **示例**: `http://192.168.1.100:3000`

## 🔥 Windows防火墙设置

### 自动方法（推荐）

当项目首次启动时，Windows会弹出防火墙提示：
1. 选择 "允许访问"
2. 勾选 "专用网络" 和 "公用网络"
3. 点击 "允许访问"

### 手动配置防火墙

如果没有自动提示，手动添加防火墙规则：

1. 打开 **Windows Defender 防火墙**
2. 点击 "高级设置"
3. 在左侧选择 "入站规则"
4. 点击右侧 "新建规则"
5. 选择 "端口" → 下一步
6. 选择 "TCP"，特定本地端口：`3000`
7. 选择 "允许连接"
8. 勾选所有网络类型
9. 名称：`Node.js Dev Server` 或自定义名称

## 📱 其他设备访问

### 手机/平板访问

1. 确保手机和电脑在同一WiFi网络
2. 在手机浏览器中输入：`http://电脑IP:3000`
3. 示例：`http://192.168.1.100:3000`

### 其他电脑访问

1. 同一局域网内的其他电脑
2. 浏览器输入：`http://你的IP:3000`

## ⚡ 性能优化建议

### 开发模式
- 适合开发和测试
- 热重载功能
- 性能相对较低

### 生产模式
```cmd
npm run build
npm run preview
```
- 优化后的构建版本
- 性能更好
- 适合演示和分享

## 🔍 故障排除

### 问题1：外部设备无法访问

**解决方案：**
1. 检查防火墙设置
2. 确认IP地址正确
3. 确保设备在同一网络
4. 尝试关闭VPN

**检查命令：**
```cmd
# 检查端口是否监听
netstat -an | findstr :3000

# 测试本地连接
curl http://localhost:3000
```

### 问题2：端口被占用

**解决方案：**
```cmd
# 查找占用端口的进程
netstat -ano | findstr :3000

# 杀死进程（替换PID）
taskkill /PID 进程ID /F

# 或者修改端口号到其他值（如3001）
```

### 问题3：图片不显示

**解决方案：**
1. 确保图片放在 `public/photos/` 文件夹
2. 检查图片格式是否支持
3. 查看浏览器控制台错误信息

## 🛠️ 网络配置高级选项

### 路由器端口转发（可选）

如果需要从外网访问：
1. 登录路由器管理界面
2. 找到"端口转发"或"虚拟服务器"
3. 添加规则：
   - 外部端口：3000
   - 内部端口：3000
   - 内部IP：你的电脑IP
4. 保存配置

### 使用ngrok（临时外网访问）

```cmd
# 安装ngrok
npm install -g ngrok

# 启动ngrok
ngrok http 3000
```

会生成一个临时的外网访问地址。

## 📊 监控和调试

### 查看访问日志
启动项目后，控制台会显示访问信息：
- 本地访问日志
- 外部设备访问日志
- 错误信息

### 浏览器开发者工具
- F12 打开开发者工具
- Console 查看错误信息
- Network 检查资源加载

## 🎯 快速开始脚本

创建一个快速启动脚本 `start.cmd`：

```cmd
@echo off
echo 🚀 启动本地服务器...
echo 📡 其他设备请通过以下地址访问：
echo    http://你的IP:3000
echo.
npm run dev
pause
```

## ✅ 检查清单

启动前确认：
- [ ] Node.js已安装
- [ ] 项目依赖已安装
- [ ] 防火墙已配置
- [ ] 图片已放入`public/photos`
- [ ] 获取了正确的IP地址
- [ ] 设备在同一网络

---

🎉 **现在你可以在本地运行项目并与朋友分享了！**

如有问题，请查看控制台输出或上述故障排除部分。
